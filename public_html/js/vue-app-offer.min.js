!function(){"use strict";var e,t,n,r={6057:function(e,t,n){Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var r=s(n(276)),o=s(n(7873)),i=s(n(5019)),u=s(n(8149)),a=s(n(5179));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c={name:"App",components:{InputSlider:r.default,InputPhone:o.default,InputOnlyText:i.default,InputDate:u.default,InputPassport:a.default},created:function(){var e,t,n,r,o,i=this;return e=$('meta[name="csrf-param"]').attr("content"),t=$('meta[name="csrf-token"]').attr("content"),this.csrf=(n={},o=t,(r="".concat(e))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),$(window).on("vue-app-offer-load",(function(e,t){return i.sendSuccess=!1,i.offer=null,i.inputs=null,i.minSum=t.minSum,i.maxSum=t.maxSum,i.title=t.title,i.logo=t.logo,i.load(t.url),!0})),!0},data:function(){return{minSum:0,maxSum:0,title:"",logo:"",loading:!1,offer:null,inputs:null,csrf:null,sending:!1,sendSuccess:!1}},methods:{inputId:function(e){return"offer-input-".concat(e)},load:function(e){var t=this;return this.loading=!0,$.get(e).done((function(e){return t.offer=e.offer,t.inputs=e.inputs,!0})).fail((function(){return!0})).always((function(){return t.loading=!1,!0})),!0},send:function(e){var t,n,r,o,i=this;for(n in this.sending=!0,r=new Object,o=this.inputs)t=o[n],r["UnicomFormUniversal[".concat(n,"]")]=t.value;return r["UnicomFormUniversal[offer]"]=this.offer.id,r=$.extend({},this.csrf,r),$.post("/offer-send.json",r).done((function(e){var t,n;return null!=(null!=e?e.success:void 0)&&1===e.success?(null!=(null!=e&&null!=(t=e.response)?t.id:void 0)&&"SENT"===(null!=e&&null!=(n=e.response)?n.status:void 0)&&(i.offer=null,i.requestId=e.response.id,i.sendSuccess=!0),!0):(i.addErrors(e),!0)})).fail((function(){return!0})).always((function(){return i.sending=!1,!0})),!0},addErrors:function(e){var t,n,r;if("object"!==l(e))return!0;for(r in e)t=e[r],n=r.substr(20),this.inputs[n].error=t[0];return!0}}};t.Z=c},5473:function(e,t){Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={name:"InputDate",mounted:function(){return this.val=this.value,$(this.$refs.input).inputmask("99.99.9999",{placeholder:"дд.мм.гггг"}),!0},props:{error:String,value:String},data:function(){return{val:""}},methods:{onInput:function(e){var t;return(t=$(e.target)).inputmask("isComplete")?this.$emit("input",t.val()):this.$emit("input",""),!0}}};t.Z=n},5834:function(e,t){Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={name:"InputOnlyText",mounted:function(){return $(this.$refs.input).inputmask({regex:"[а-яА-Я]*"}),!0},props:{error:String,value:String},methods:{onInput:function(e){return this.$emit("input",$(e.target).val()),!0}}};t.Z=n},1690:function(e,t){Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={name:"InputPassport",mounted:function(){return this.val=this.value,$(this.$refs.input).inputmask("9999-999999"),!0},props:{error:String,value:String},data:function(){return{val:null}},methods:{onInput:function(e){var t;return 10===(t=$(e.target).inputmask("unmaskedvalue")).length?this.$emit("input",t):this.$emit("input",""),!0}}};t.Z=n},3839:function(e,t){Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={name:"InputPhone",mounted:function(){return this.val=this.value,$(this.$refs.phone).inputmask("+7-\\999-999-99-99"),!0},props:{error:String,value:String},data:function(){return{val:""}},methods:{onInput:function(e){var t;return 9===(t=$(e.target).inputmask("unmaskedvalue")).length?this.$emit("input",t):this.$emit("input",""),!0}}};t.Z=n},1751:function(e,t){Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={name:"InputSlider",mounted:function(){var e=this;return $(this.$refs.money).maskMoney({suffix:" ₽",thousands:" ",precision:0,selectAllOnFocus:!0}),$(this.$refs.slider).slider({uiLibrary:"bootstrap4",min:this.min,max:this.max,slide:function(t,n){var r;return r=1e3*Math.ceil(.001*n),$(e.$refs.money).maskMoney("mask",r),e.val=r,e.$emit("focus"),e.$emit("input",e.val),!0}}),!0},props:{error:String,value:Number,min:{type:Number,default:0},max:{type:Number,default:0}},data:function(){return{val:0,error:""}},methods:{onInput:function(e){var t;return t=e.target.value.replace(/\s/g,"").replace(/\₽/g,""),this.val=t,this.$emit("input",this.val),!0},onFocusOut:function(e){var t;return(t=e.target.value.replace(/\s/g,"").replace(/\₽/g,""))<this.min&&(t=this.min),t>this.max&&(t=this.max),this.val=t,$(this.$refs.slider).slider().value(this.val),!0}}};t.Z=n},6949:function(e,t,n){var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"",""]),t.Z=o},9116:function(e,t,n){var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"",""]),t.Z=o},9753:function(e,t,n){var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"",""]),t.Z=o},6792:function(e,t,n){var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"",""]),t.Z=o},3512:function(e,t,n){var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"",""]),t.Z=o},1882:function(e,t,n){var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"",""]),t.Z=o},3645:function(e){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var u=this[i][0];null!=u&&(o[u]=!0)}for(var a=0;a<e.length;a++){var s=[].concat(e[a]);r&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},3379:function(e,t,n){var r,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function u(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},r=[],o=0;o<e.length;o++){var a=e[o],s=t.base?a[0]+t.base:a[0],l=n[s]||0,c="".concat(s," ").concat(l);n[s]=l+1;var f=u(c),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:c,updater:m(p,t),references:1}),r.push(c)}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var u=o(e.insert||"head");if(!u)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");u.appendChild(t)}return t}var l,c=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,o);else{var i=document.createTextNode(o),u=e.childNodes;u[t]&&e.removeChild(u[t]),u.length?e.insertBefore(i,u[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,v=0;function m(e,t){var n,r,o;if(t.singleton){var i=v++;n=d||(d=s(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=s(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=u(n[r]);i[o].references--}for(var s=a(e,t),l=0;l<n.length;l++){var c=u(n[l]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}n=s}}}},1304:function(e,t,n){n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return c}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("div",[n("img",{staticClass:"img-center my-5",attrs:{width:"50",src:"/img/loader.svg"}})]):e.offer?n("div",[n("div",{staticClass:"row no-gutters align-items-center"},[n("div",{staticClass:"col-auto mr-2"},[n("img",{staticClass:"img img-circle",attrs:{width:"60",src:e.logo}})]),e._v(" "),n("div",{staticClass:"col clip"},[n("p",{staticClass:"clip fw-600 mb-1 em-11",domProps:{innerHTML:e._s(e.title)}}),e._v(" "),n("p",{staticClass:"clip em-9"},[e._v(e._s(e.offer.name))])])]),e._v(" "),e._l(e.inputs,(function(t,r){return n("div",[n("label",{staticClass:"label",attrs:{for:e.inputId(r)}},[e._v(e._s(t.label))]),e._v(" "),"slider"===t.type?n("input-slider",{attrs:{min:e.minSum,max:e.maxSum,error:t.error},on:{focus:function(e){t.error=""}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"input.value"}}):e._e(),e._v(" "),"phone"===t.type?n("input-phone",{attrs:{error:t.error},on:{focus:function(e){t.error=""}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"input.value"}}):e._e(),e._v(" "),"only-text"===t.type?n("input-only-text",{attrs:{error:t.error},on:{focus:function(e){t.error=""}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"input.value"}}):e._e(),e._v(" "),"date"===t.type?n("input-date",{attrs:{error:t.error},on:{focus:function(e){t.error=""}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"input.value"}}):e._e(),e._v(" "),"passport"===t.type?n("input-passport",{attrs:{error:t.error},on:{focus:function(e){t.error=""}},model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"input.value"}}):e._e(),e._v(" "),"text"===t.type?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"input.value"}],staticClass:"input",class:{error:""!==t.error},attrs:{type:"text",id:e.inputId(r)},domProps:{value:t.value},on:{focus:function(e){t.error=""},input:function(n){n.target.composing||e.$set(t,"value",n.target.value)}}})]):e._e(),e._v(" "),"int"===t.type?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"input.value"}],staticClass:"input",class:{error:""!==t.error},attrs:{type:"text",id:e.inputId(r)},domProps:{value:t.value},on:{focus:function(e){t.error=""},input:function(n){n.target.composing||e.$set(t,"value",n.target.value)}}})]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.error,expression:"input.error !== ''"}],staticClass:"input-error"},[e._v(e._s(t.error))])],1)})),e._v(" "),n("div",[n("div",{staticClass:"btn-default",on:{click:function(t){return t.preventDefault(),e.send.apply(null,arguments)}}},[e.sending?n("img",{attrs:{width:"50",src:"/img/loader.svg"}}):n("span",[e._v("Отправить заявку")])])])],2):e.sendSuccess?n("div",[n("p",{staticClass:"center"},[e._v("\n        Ваша заявка № "),n("span",{staticClass:"em-13 fw-600"},[e._v(e._s(e.requestId))]),e._v(" успешно принята.\n        "),n("br"),e._v("\n        Специалист Банка позвонит Вам в течении 30 минут.\n        "),n("br"),e._v("\n        Пожалуйста, сохраните номер Ваши заявки.\n    ")])]):n("div",[n("p",{staticClass:"center"},[e._v("Предложение не найдено")])])])};r._withStripped=!0;var o=n(6057),i=o.Z,u=n(3379),a=n.n(u),s=n(6949),l=(a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,(0,n(1900).Z)(i,r,[],!1,null,"24f96cfc",null));l.options.__file="src/vue/offer/App.vue";var c=l.exports},8149:function(e,t,n){n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return c}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{ref:"input",staticClass:"input",class:{error:""!==e.error},attrs:{type:"text"},domProps:{value:e.val},on:{focus:function(t){return e.$emit("focus")},keyup:e.onInput}})])};r._withStripped=!0;var o=n(5473),i=o.Z,u=n(3379),a=n.n(u),s=n(9116),l=(a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,(0,n(1900).Z)(i,r,[],!1,null,"ad6e3158",null));l.options.__file="src/vue/offer/components/InputDate.vue";var c=l.exports},5019:function(e,t,n){n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return c}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{ref:"input",staticClass:"input",class:{error:""!==e.error},attrs:{type:"text"},domProps:{value:e.value},on:{focus:function(t){return e.$emit("focus")},keyup:e.onInput}})])};r._withStripped=!0;var o=n(5834),i=o.Z,u=n(3379),a=n.n(u),s=n(9753),l=(a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,(0,n(1900).Z)(i,r,[],!1,null,"4694c61f",null));l.options.__file="src/vue/offer/components/InputOnlyText.vue";var c=l.exports},5179:function(e,t,n){n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return c}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{ref:"input",staticClass:"input",class:{error:""!==e.error},attrs:{type:"text"},domProps:{value:e.val},on:{focus:function(t){return e.$emit("focus")},keyup:e.onInput}})])};r._withStripped=!0;var o=n(1690),i=o.Z,u=n(3379),a=n.n(u),s=n(6792),l=(a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,(0,n(1900).Z)(i,r,[],!1,null,"5672fab8",null));l.options.__file="src/vue/offer/components/InputPassport.vue";var c=l.exports},7873:function(e,t,n){n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return c}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{ref:"phone",staticClass:"input",class:{error:""!==e.error},attrs:{type:"text"},domProps:{value:e.val},on:{focus:function(t){return e.$emit("focus")},keyup:e.onInput}})])};r._withStripped=!0;var o=n(3839),i=o.Z,u=n(3379),a=n.n(u),s=n(3512),l=(a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,(0,n(1900).Z)(i,r,[],!1,null,"53f43eb8",null));l.options.__file="src/vue/offer/components/InputPhone.vue";var c=l.exports},276:function(e,t,n){n.r(t),n.d(t,{__esModule:function(){return o.X},default:function(){return c}});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("input",{ref:"money",staticClass:"input mb-1",class:{error:""!==e.error},attrs:{type:"text"},on:{focus:function(t){return e.$emit("focus")},keyup:e.onInput,focusout:e.onFocusOut}}),e._v(" "),n("div",{ref:"slider"})])};r._withStripped=!0;var o=n(1751),i=o.Z,u=n(3379),a=n.n(u),s=n(1882),l=(a()(s.Z,{insert:"head",singleton:!1}),s.Z.locals,(0,n(1900).Z)(i,r,[],!1,null,"484c58f2",null));l.options.__file="src/vue/offer/components/InputSlider.vue";var c=l.exports},1900:function(e,t,n){function r(e,t,n,r,o,i,u,a){var s,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),i&&(l._scopeId="data-v-"+i),u?(s=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(u)},l._ssrRegister=s):o&&(s=a?function(){o.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:o),s)if(l.functional){l._injectStyles=s;var c=l.render;l.render=function(e,t){return s.call(t),c(e,t)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,s):[s]}return{exports:e,options:l}}n.d(t,{Z:function(){return r}})}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,exports:{}};return r[e](n,n.exports,i),n.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n=(e=i(1304))&&e.__esModule?e:{default:e},t=$(window),$("#vue-app-offer").each((function(e,t){return new Vue({render:function(e){return e(n.default)}}).$mount(t),!0})),$("*[data-offer]").click((function(e){var n,r,o,i,u,a,s;return e.preventDefault(),i=(n=$(this)).data("min-sum"),o=n.data("max-sum"),u=n.data("src"),s=n.data("url"),a=n.data("title"),r=n.data("logo"),$.fancybox.open({src:u,touch:!1,clickSlide:!1}),t.trigger("vue-app-offer-load",{url:s,id:2003515,title:a,logo:r,minSum:i,maxSum:o}),!1}))}();